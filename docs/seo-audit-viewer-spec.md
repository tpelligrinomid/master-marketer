# SEO/AEO Audit Viewer — Visual Design Spec for Lovable

## Overview

Build a **SEO Audit Viewer** — a premium, data-rich visual report for SEO/AEO audit deliverables generated by Master Marketer. This is a structured JSON document with 7 sections, each containing metrics, arrays, and nested data that should be rendered as interactive, visual dashboards — NOT as a text document.

This should feel like opening a $15K consulting deliverable from a top-tier agency. Think: blend of a Ahrefs dashboard, a McKinsey strategy deck, and a Figma-polished data visualization. Every section should make the client think "wow, they really dug deep."

---

## Design Philosophy

- **Data-first, not text-first.** The audit JSON is full of numbers, scores, arrays, and categorized data. Render these as charts, gauges, heatmaps, and cards — not paragraphs.
- **Scrollytelling structure.** The report flows vertically through 7 sections, each with its own visual treatment. Think of each section as a "slide" in a premium deck.
- **Color language.** Use a consistent color system throughout:
  - Severity: critical=red-600, high=orange-500, medium=amber-400, low=green-500
  - Business relevance: core=blue-600, adjacent=purple-500, vanity=gray-400
  - Ratings: good=emerald-500, needs_improvement=amber-500, poor=red-500
  - Verdict: proceed_to_content=emerald, technical_audit_first=red, parallel_workstreams=amber
- **Progressive disclosure.** Show the headline metric big and bold, with expandable detail underneath. Don't overwhelm — let the client click to dig deeper.
- **Competitor comparisons everywhere.** When data includes competitor context, always show it visually side-by-side.

---

## Data Structure (TypeScript)

The backend returns this JSON. Every field below must be rendered.

```typescript
interface GeneratedSeoAuditOutput {
  type: "seo_audit";
  title: string;        // e.g. "SEO/AEO Audit: Motion Agency"
  summary: string;      // Executive summary paragraph

  technical_seo: TechnicalSeoSection;
  keyword_landscape: KeywordLandscapeSection;
  content_gap: ContentGapSection;
  serp_features_aeo: SerpFeaturesAeoSection;
  backlink_profile: BacklinkProfileSection;
  competitive_search: CompetitiveSearchSection;
  strategic_recommendations: StrategicRecommendationsSection;

  metadata: {
    model: string;
    version: number;
    generated_at: string;           // ISO timestamp
    domain_audited: string;
    competitors_analyzed: string[];
    intelligence_errors: string[];
  };
}

// ─────────────────────────────────────────────
// Section 1: Technical SEO Assessment
// ─────────────────────────────────────────────

interface CriticalIssue {
  issue: string;
  severity: "critical" | "high" | "medium" | "low";
  affected_pages: number;
  description: string;
  recommendation: string;
}

interface SchemaInventoryItem {
  schema_type: string;
  pages_count: number;
  status: "implemented" | "missing" | "incomplete";
  recommendation?: string;
}

interface CoreWebVitals {
  url: string;
  lcp: number | null;        // milliseconds
  fid: number | null;
  cls: number | null;
  inp: number | null;
  performance_score: number | null;  // 0-100
  rating: "good" | "needs_improvement" | "poor";
}

interface TechnicalSeoSection {
  section_description: string;
  health_score: number;       // 0-100
  pages_crawled: number;
  critical_issues: CriticalIssue[];
  schema_inventory: SchemaInventoryItem[];
  core_web_vitals: CoreWebVitals[];
  crawlability_summary: string;
  indexability_summary: string;
  mobile_readiness_summary: string;
  technical_verdict: {
    recommendation: "proceed_to_content" | "technical_audit_first" | "parallel_workstreams";
    rationale: string;
    deep_audit_areas?: string[];
  };
}

// ─────────────────────────────────────────────
// Section 2: Keyword Landscape
// ─────────────────────────────────────────────

interface KeywordCluster {
  cluster_name: string;
  intent: string;                                     // informational, commercial, transactional, navigational
  business_relevance: "core" | "adjacent" | "vanity";
  relevance_rationale: string;
  keywords: Array<{
    keyword: string;
    position: number;
    search_volume: number;
    difficulty?: number;
    url?: string;
  }>;
  total_traffic_potential: number;
  opportunity_score: number;  // 1-10
}

interface TopPerformer {
  keyword: string;
  position: number;
  search_volume: number;
  url: string;
  trend: "rising" | "stable" | "declining";
  business_relevance: "core" | "adjacent" | "vanity";
}

interface KeywordLandscapeSection {
  section_description: string;
  total_ranked_keywords: number;
  top_3_keywords: number;
  top_10_keywords: number;
  top_50_keywords: number;
  estimated_organic_traffic: number;
  keyword_clusters: KeywordCluster[];
  top_performers: TopPerformer[];
  ranking_distribution_summary: string;
}

// ─────────────────────────────────────────────
// Section 3: Content Gap Analysis
// ─────────────────────────────────────────────

interface ContentGapOpportunity {
  keyword: string;
  search_volume: number;
  difficulty?: number;
  intent: string;
  competitor_positions: Record<string, number>;  // { "competitor.com": 3 }
  estimated_traffic_value: number;
  priority: "high" | "medium" | "low";
  rationale: string;
}

interface ContentGapSection {
  section_description: string;
  total_gap_keywords: number;
  high_value_gaps: ContentGapOpportunity[];
  quick_wins: ContentGapOpportunity[];
  strategic_gaps: ContentGapOpportunity[];
  gap_analysis_summary: string;
}

// ─────────────────────────────────────────────
// Section 4: SERP Features & AEO Analysis
// ─────────────────────────────────────────────

interface SnippetOpportunity {
  keyword: string;
  search_volume: number;
  current_snippet_holder?: string;
  client_position?: number;
  snippet_type: string;
  optimization_recommendation: string;
}

interface PaaOpportunity {
  question: string;
  parent_keyword: string;
  search_volume?: number;
  currently_answered_by?: string;
}

interface AiOverviewPresence {
  keyword: string;
  ai_overview_present: boolean;
  client_referenced: boolean;
  competitors_referenced: string[];
  optimization_opportunity: string;
}

interface LlmVisibility {
  engine: string;                              // "google_ai_overview" | "chatgpt" | "perplexity"
  queries_tested: number;
  brand_mentioned_count: number;
  mention_rate: number;                        // 0-1
  competitors_mentioned: Record<string, number>;
  key_findings: string[];
}

interface SerpFeaturesAeoSection {
  section_description: string;
  snippet_opportunities: SnippetOpportunity[];
  paa_opportunities: PaaOpportunity[];
  ai_overview_presence: AiOverviewPresence[];
  llm_visibility: LlmVisibility[];
  serp_features_summary: string;
  aeo_readiness_score: number;   // 0-100
  aeo_recommendations: string[];
}

// ─────────────────────────────────────────────
// Section 5: Backlink Profile
// ─────────────────────────────────────────────

interface AnchorDistribution {
  category: string;       // branded, exact_match, partial_match, generic, url, other
  percentage: number;     // 0-100
  examples: string[];
}

interface CompetitorBacklinkComparison {
  company_name: string;
  domain: string;
  total_backlinks: number;
  referring_domains: number;
  domain_rank?: number;
  dofollow_ratio: number;  // 0-1
}

interface BacklinkGapOpportunity {
  referring_domain: string;
  domain_rank?: number;
  links_to_competitors: string[];
  acquisition_difficulty: "easy" | "medium" | "hard";
  recommendation: string;
}

interface BacklinkProfileSection {
  section_description: string;
  total_backlinks: number;
  referring_domains: number;
  dofollow_ratio: number;      // 0-1
  domain_authority?: number;
  spam_score?: number;
  anchor_distribution: AnchorDistribution[];
  competitor_comparison: CompetitorBacklinkComparison[];
  gap_opportunities: BacklinkGapOpportunity[];
  backlink_health_summary: string;
  link_building_priorities: string[];
}

// ─────────────────────────────────────────────
// Section 6: Competitive Search Landscape
// ─────────────────────────────────────────────

interface SearchProfile {
  company_name: string;
  domain: string;
  total_ranked_keywords: number;
  top_10_keywords: number;
  estimated_traffic: number;
  domain_authority?: number;
  top_content_categories: string[];
  strengths: string[];
  weaknesses: string[];
}

interface CompetitiveSearchSection {
  section_description: string;
  client_profile: SearchProfile;
  competitor_profiles: SearchProfile[];
  competitive_positioning_summary: string;
  differentiation_opportunities: string[];
}

// ─────────────────────────────────────────────
// Section 7: Strategic Recommendations
// ─────────────────────────────────────────────

interface StrategicRecommendation {
  title: string;
  description: string;
  effort: "low" | "medium" | "high";
  impact: "low" | "medium" | "high";
  timeframe: string;
  category: "technical" | "content" | "backlinks" | "aeo" | "competitive";
  kpi: string;
}

interface StrategicRecommendationsSection {
  section_description: string;
  quick_wins: StrategicRecommendation[];
  medium_term: StrategicRecommendation[];
  long_term: StrategicRecommendation[];
  executive_summary: string;
}
```

---

## Page Layout

### Cover / Hero Section
- Full-width header with gradient background (dark navy → deep blue)
- Audit title large and bold (e.g. "SEO/AEO Audit: Motion Agency")
- Domain audited as a subtitle with a small globe icon
- Competitors analyzed listed as subtle pills/chips below
- Generated date formatted nicely
- "Prepared by Marketers in Demand" branding
- The `summary` rendered as 2-3 sentences of executive context below the title, in a slightly lighter weight font

### Navigation
- Sticky left sidebar (desktop) or sticky top tab bar (mobile) with 7 section links:
  1. Technical Health
  2. Keyword Landscape
  3. Content Gaps
  4. SERP & AEO
  5. Backlink Profile
  6. Competitive Landscape
  7. Strategic Roadmap
- Active section highlighted as user scrolls (intersection observer)
- Each section link shows a small status indicator (colored dot based on the section's key score)

### Section Dividers
- Each section starts with a full-width section header: number + title + the `section_description` as a subtitle paragraph
- Subtle horizontal rule or gradient divider between sections

---

## Section-by-Section Visual Design

### Section 1: Technical SEO Health

**Hero element: Health Score Gauge**
- Large circular gauge/donut (think speedometer) showing `health_score` out of 100
- Color fill: 0-40 red, 41-70 amber, 71-100 green
- `pages_crawled` shown as a small stat below the gauge
- Note beneath: "Based on a diagnostic scan of {pages_crawled} pages. For full page-by-page remediation, a dedicated technical audit is recommended."

**Technical Verdict Banner**
- Full-width banner immediately below the health score
- Color-coded by verdict:
  - `proceed_to_content`: Green background with checkmark icon — "Technical foundation is solid. Ready for content strategy."
  - `technical_audit_first`: Red/coral background with warning icon — "Critical technical issues detected. Recommend dedicated technical remediation before content investment."
  - `parallel_workstreams`: Amber background with parallel arrows icon — "Some technical issues need attention. Can run alongside content strategy."
- `rationale` as the body text
- If `deep_audit_areas` exists, render as a horizontal row of tags/pills below the rationale

**Critical Issues**
- Vertical card stack, sorted by severity
- Each card has:
  - Left edge: thick colored border (severity color)
  - Severity badge (pill) in top-right
  - Issue title bold and prominent
  - `affected_pages` as a number callout
  - `description` as body text
  - `recommendation` in a distinct callout box (lighter background, maybe with a lightbulb icon)
- Expandable/collapsible — show issue + severity + affected_pages by default, expand for full description + recommendation

**Core Web Vitals**
- Horizontal card row (one card per URL tested)
- Each card shows the URL (truncated smartly) and a vertical stack of metric gauges:
  - LCP: Small radial gauge or bar, green/amber/red based on thresholds (good < 2500ms, poor > 4000ms)
  - FID: Same treatment (good < 100ms, poor > 300ms)
  - CLS: Same (good < 0.1, poor > 0.25)
  - INP: Same (good < 200ms, poor > 500ms)
  - Performance score as a prominent number with color
- Overall rating badge at the top of each card (good/needs_improvement/poor)
- If a metric is null, show a dash with "No data" tooltip

**Schema Inventory**
- Grid of small cards or a styled table
- Each schema type gets a row/card:
  - Schema type name
  - Status indicator: green checkmark (implemented), red X (missing), amber warning (incomplete)
  - Pages count
  - Recommendation text (shown on hover or expand)
- Visual emphasis on missing schemas — these are opportunities

**Summaries**
- Three summary cards in a horizontal row:
  - Crawlability (with a spider/crawl icon)
  - Indexability (with a magnifying glass/index icon)
  - Mobile Readiness (with a phone icon)
- Each card has the summary text and a subtle background color indicating health

---

### Section 2: Keyword Landscape

**Hero stats row**
- Four large stat cards in a horizontal row:
  - Total Ranked Keywords (big number)
  - Top 3 Keywords (with a trophy icon)
  - Top 10 Keywords
  - Estimated Organic Traffic (with a trending-up icon)
- `top_50_keywords` shown as a secondary stat

**Keyword Clusters — Bubble Map or Treemap**
- Primary visualization: Interactive treemap or bubble chart where:
  - Each bubble/block = one keyword cluster
  - Size = `total_traffic_potential`
  - Color = `business_relevance` (core=blue, adjacent=purple, vanity=gray)
  - Label = `cluster_name`
  - Border or glow = `opportunity_score` intensity
- On hover/click: expand to show the cluster detail card:
  - Cluster name, intent badge, relevance badge
  - `relevance_rationale` text
  - `opportunity_score` as a small bar (1-10)
  - Keyword table: keyword, position, volume, difficulty
  - Total traffic potential

**Alternative if treemap is complex:** Horizontal bar chart with clusters sorted by opportunity_score, colored by business_relevance, with traffic potential as bar width.

**Top Performers Table**
- Styled data table with:
  - Keyword name
  - Position (with position indicator: #1 gets a gold badge, #2 silver, #3 bronze, rest numeric)
  - Search volume (formatted with commas)
  - Trend icon: rising (green arrow up), stable (gray dash), declining (red arrow down)
  - Business relevance pill (core/adjacent/vanity with color)
  - URL (truncated, clickable)
- Sortable columns
- Vanity keywords should be visually de-emphasized (lighter text, gray relevance pill)

**Ranking Distribution Summary**
- Render as a styled callout/insight box below the table

---

### Section 3: Content Gap Analysis

**Hero stat**
- `total_gap_keywords` as a large number with label "Keyword gaps identified"

**Three-tab or three-column layout:**
1. **High Value Gaps** (red/coral accent) — the big opportunities
2. **Quick Wins** (green accent) — low effort, fast results
3. **Strategic Gaps** (blue accent) — long-term plays

**Each gap opportunity renders as a card:**
- Keyword name (bold, prominent)
- Search volume + difficulty as pill stats
- Intent badge
- Priority badge (high/medium/low)
- **Competitor position bars**: Horizontal mini bar chart showing where each competitor ranks for this keyword, with the client's absence highlighted
  - e.g. "rise25.com: #3 | contentallies.com: #7 | You: not ranking"
- Estimated traffic value as a dollar/traffic callout
- Rationale text (expandable)

**Gap Summary**
- Styled insight callout at the bottom of the section

---

### Section 4: SERP Features & AEO

**AEO Readiness Score — Hero Gauge**
- Large circular gauge (same style as health score) showing `aeo_readiness_score` out of 100
- This is a unique differentiator — most clients have never seen this metric. Make it prominent.

**LLM Visibility Dashboard**
- Horizontal row of cards, one per engine (Google AI Overview, ChatGPT, Perplexity)
- Each card shows:
  - Engine name with recognizable icon/logo
  - `brand_mentioned_count` / `queries_tested` as a fraction and percentage (big number)
  - `mention_rate` as a small progress bar
  - `competitors_mentioned` as a mini horizontal bar chart (brand vs each competitor)
  - `key_findings` as bullet points below
- This is the "wow" section — most audits don't include AI engine visibility

**AI Overview Presence Grid**
- Table/grid showing each keyword tested:
  - Keyword name
  - AI Overview present? (green check / gray X)
  - Client referenced? (green check / red X) — this column should pop visually
  - Competitors referenced (list of names)
  - Optimization opportunity (expandable)

**Featured Snippet Opportunities**
- Card list with:
  - Keyword + search volume
  - Snippet type badge (paragraph, list, table)
  - Current holder (competitor domain or "unclaimed")
  - Client position
  - Recommendation (expandable)

**PAA Opportunities**
- Accordion list of questions grouped by parent keyword
- Each question shows: the question text, parent keyword, volume, who currently answers it
- Visual design: styled like actual Google PAA boxes (rounded, expandable)

**AEO Recommendations**
- Numbered list in a styled callout box with checkmark icons

---

### Section 5: Backlink Profile

**Hero stats row**
- Four stat cards:
  - Total Backlinks (big number)
  - Referring Domains
  - Dofollow Ratio (as percentage, with a small donut showing the ratio)
  - Domain Authority (if available)
- Spam score shown subtly (small badge, red if high)

**Anchor Text Distribution — Donut Chart**
- Donut/pie chart showing `anchor_distribution` categories
- Each slice colored by category, with percentage labels
- Legend to the side showing category name + percentage + example anchor texts
- Hover: shows examples

**Competitor Comparison — Grouped Bar Chart**
- Horizontal grouped bar chart comparing client vs each competitor across:
  - Total backlinks
  - Referring domains
  - Domain rank
- Client bar in brand blue, competitors in gray/muted colors
- Each competitor gets a row with all three metrics as grouped bars

**Backlink Gap Opportunities**
- Table with:
  - Referring domain name
  - Domain rank (with rank badge)
  - Which competitors it links to (shown as small avatars/pills)
  - Acquisition difficulty badge (easy=green, medium=amber, hard=red)
  - Recommendation (expandable)
- Sortable by domain rank or difficulty

**Health Summary + Priorities**
- `backlink_health_summary` as a styled paragraph
- `link_building_priorities` as a numbered priority list with subtle icons

---

### Section 6: Competitive Search Landscape

**Competitive Overview — Radar/Spider Chart**
- Radar chart with axes for: Total Keywords, Top 10 Keywords, Estimated Traffic, Domain Authority
- One polygon per company (client + each competitor)
- Client in bold brand color, competitors in distinct lighter colors
- Legend showing company names and domains

**Company Profile Cards**
- One card per company (client card has a special "You" badge and highlighted border)
- Each card contains:
  - Company name + domain
  - Stat row: ranked keywords, top 10, estimated traffic, DA
  - `top_content_categories` as tag pills
  - `strengths` as green bullet points with checkmark icons
  - `weaknesses` as red/amber bullet points with warning icons
- Client card is always first and visually distinct (accent border, "Your Profile" label)

**Competitive Positioning Summary**
- Styled paragraph/callout with the strategic assessment

**Differentiation Opportunities**
- Horizontal scrollable cards or numbered list
- Each opportunity gets a card with an icon and the text
- Think "here's where you can win" — optimistic, action-oriented styling

---

### Section 7: Strategic Recommendations

**Executive Summary — Hero Block**
- Full-width block with premium background (subtle gradient or pattern)
- `executive_summary` rendered in a larger font, slightly serif, with generous line height
- This is the first thing a VP reads — make it feel authoritative

**Priority Matrix — Effort vs Impact Scatter Plot**
- 2x2 quadrant chart (effort on X axis, impact on Y axis)
- Each recommendation plotted as a dot/bubble
- Color-coded by category (technical=blue, content=green, backlinks=purple, aeo=orange, competitive=teal)
- Quadrant labels: "Quick Wins" (low effort, high impact), "Major Projects" (high effort, high impact), "Fill-Ins" (low effort, low impact), "Reconsider" (high effort, low impact)
- Hover/click shows the recommendation detail

**Three-Phase Timeline**
- Horizontal timeline with three swim lanes:
  1. **Quick Wins** (1-4 weeks) — left section
  2. **Medium Term** (1-3 months) — middle section
  3. **Long Term** (3-12 months) — right section
- Each recommendation as a card positioned in its lane
- Cards show:
  - Title (bold)
  - Category icon + badge
  - Effort + impact as small pill badges
  - KPI target
  - Description (expandable)
- Cards color-coded by category

**Category Breakdown**
- Optional: small donut chart showing the distribution of recommendations by category
- Helps the client see "40% of our recommendations are content-focused, 25% technical, etc."

---

## Interactive Elements

- **Smooth scroll** between sections via sidebar navigation
- **Expandable cards** for detailed descriptions and recommendations (click to expand/collapse)
- **Tooltips** on all metrics explaining what they mean (e.g. hover over "LCP" → "Largest Contentful Paint — measures loading performance. Good: <2.5s")
- **Sort/filter** on tables (keyword tables, gap opportunities, backlink opportunities)
- **Print/PDF mode**: Hide interactive elements, expand all collapsed sections, optimize for letter-size paper with page breaks between sections

---

## Responsive Behavior

- **Desktop (1200px+)**: Full layout with sidebar nav, multi-column grids, large charts
- **Tablet (768-1199px)**: Sidebar collapses to top tab bar, charts resize, 2-column grids become 1-column
- **Mobile (< 768px)**: Stacked layout, charts become simplified versions, cards full-width, tables become card lists

---

## Recommended Libraries

- **Charts**: Recharts (fits React well, good for bar/line/radar/pie/scatter) or Nivo (beautiful defaults, treemap support)
- **Gauges**: Custom SVG or `react-circular-progressbar`
- **Tables**: TanStack Table (sorting, filtering built in)
- **Animations**: Framer Motion for card expand/collapse, section entrance animations
- **Icons**: Lucide React (consistent, clean)

---

## Color Tokens (Tailwind)

```
severity-critical: red-600
severity-high: orange-500
severity-medium: amber-400
severity-low: green-500

relevance-core: blue-600
relevance-adjacent: purple-500
relevance-vanity: gray-400

rating-good: emerald-500
rating-needs-improvement: amber-500
rating-poor: red-500

verdict-proceed: emerald-500
verdict-technical-first: red-500
verdict-parallel: amber-500

category-technical: sky-500
category-content: emerald-500
category-backlinks: violet-500
category-aeo: orange-500
category-competitive: teal-500

difficulty-easy: green-500
difficulty-medium: amber-500
difficulty-hard: red-500
```

---

## Integration Notes

- The SEO audit is a new deliverable type: `type: "seo_audit"`
- Store the full JSON in `content_structured` in the `deliverables` table
- The viewer is read-only for clients (rendered at `/d/:shareId`)
- Strategists can review before publishing but the structured nature means editing is limited to the editor view (future: allow strategists to hide/reorder sections, add notes)
- PDF export should render all charts as static images and expand all collapsed sections
